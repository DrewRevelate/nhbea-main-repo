(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{47243:(e,t,a)=>{Promise.resolve().then(a.bind(a,56323))},56323:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(95155),r=a(63530),n=a(54633),l=a(12115),i=a(56104),d=a(35317),c=a(92731);function o(){let[e,t]=(0,l.useState)([]),[a,o]=(0,l.useState)([]),[x,m]=(0,l.useState)(!0),[h,p]=(0,l.useState)("overview"),[u,v]=(0,l.useState)(null),[b,y]=(0,l.useState)(!1),[g,j]=(0,l.useState)("");(0,l.useEffect)(()=>{f()},[]);let f=async()=>{try{m(!0);let e=(0,d.P)((0,d.collection)(i.db,"conferences"),(0,d.My)("startDate","desc")),a=(await (0,d.GG)(e)).docs.map(e=>{var t,a,s,r,n;return{id:e.id,...e.data(),startDate:null==(t=e.data().startDate)?void 0:t.toDate(),endDate:null==(a=e.data().endDate)?void 0:a.toDate(),earlyBirdDeadline:null==(s=e.data().earlyBirdDeadline)?void 0:s.toDate(),createdAt:null==(r=e.data().createdAt)?void 0:r.toDate(),updatedAt:null==(n=e.data().updatedAt)?void 0:n.toDate()}});t(a);let s=(0,d.P)((0,d.collection)(i.db,"registrants"),(0,d.My)("registeredAt","desc")),r=(await (0,d.GG)(s)).docs.map(e=>{var t;return{id:e.id,...e.data(),registeredAt:null==(t=e.data().registeredAt)?void 0:t.toDate()}});o(r),a.length>0&&!g&&j(a[0].id)}catch(e){console.error("Error loading data:",e)}finally{m(!1)}},N=e=>{let t=a.filter(t=>t.conferenceId===e);return{total:t.length,paid:t.filter(e=>"paid"===e.paymentStatus).length,pending:t.filter(e=>"pending"===e.paymentStatus).length,members:t.filter(e=>"member"===e.registrationType).length,nonMembers:t.filter(e=>"nonMember"===e.registrationType).length,students:t.filter(e=>"student"===e.registrationType).length,checkedIn:t.filter(e=>e.checkedIn).length,revenue:t.filter(e=>"paid"===e.paymentStatus).reduce((e,t)=>e+t.paymentAmount,0)}},w=t=>{let s=a.filter(e=>e.conferenceId===t),r=e.find(e=>e.id===t),n=s.map(e=>{var t,a;return{Conference:(null==r?void 0:r.title)||"","First Name":e.personalInfo.firstName,"Last Name":e.personalInfo.lastName,Email:e.personalInfo.email,Phone:e.personalInfo.phone,Organization:(null==(t=e.organization)?void 0:t.name)||"",Title:(null==(a=e.organization)?void 0:a.title)||"","Registration Type":e.registrationType,"Payment Status":e.paymentStatus,"Payment Amount":e.paymentAmount,"Dietary Requirements":e.dietaryRequirements||"","Accessibility Needs":e.accessibilityNeeds||"",Networking:e.networking?"Yes":"No","Checked In":e.checkedIn?"Yes":"No",Registered:e.registeredAt.toLocaleDateString()}}),l=new Blob([[Object.keys(n[0]).join(","),...n.map(e=>Object.values(e).map(e=>'"'.concat(e,'"')).join(","))].join("\n")],{type:"text/csv"}),i=window.URL.createObjectURL(l),d=document.createElement("a");d.href=i,d.download="".concat(null==r?void 0:r.title.replace(/\s+/g,"-"),"-registrations-").concat(new Date().toISOString().split("T")[0],".csv"),d.click(),window.URL.revokeObjectURL(i)},k=async e=>{try{let t=(0,d.doc)(i.db,"registrants",e);await (0,d.updateDoc)(t,{checkedIn:!0,checkedInAt:new Date}),f()}catch(e){console.error("Error checking in attendee:",e),alert("Error checking in attendee")}};if(x)return(0,s.jsx)(r.U,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,s.jsx)(c.k,{})})});let D=e.find(e=>e.id===g),S=g?N(g):null,C=a.filter(e=>e.conferenceId===g);return(0,s.jsx)(r.U,{children:(0,s.jsx)(n.LQ,{requiredPermission:"canEditContent",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"heading-2 text-[var(--nhbea-royal-blue-dark)]",children:"Conference Management"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-[var(--color-text-secondary)]",children:"Manage conferences, registrations, and attendee data"})]}),(0,s.jsxs)("button",{onClick:()=>{v(null),y(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[var(--nhbea-royal-blue)] hover:bg-[var(--nhbea-royal-blue-dark)]",children:[(0,s.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Conference"]})]})})}),(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsx)("div",{className:"px-6",children:(0,s.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{key:"overview",label:"Overview"},{key:"conferences",label:"Conferences"},{key:"registrations",label:"Registrations"},{key:"settings",label:"Settings"}].map(e=>(0,s.jsx)("button",{onClick:()=>p(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(h===e.key?"border-[var(--nhbea-royal-blue)] text-[var(--nhbea-royal-blue)]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.key))})})}),e.length>0&&("overview"===h||"registrations"===h)&&(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-6 py-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-primary)] mb-2",children:"Select Conference"}),(0,s.jsx)("select",{value:g,onChange:e=>j(e.target.value),className:"w-full max-w-md px-3 py-2 border border-[var(--color-border-primary)] rounded-md shadow-sm focus:outline-none focus:ring-[var(--nhbea-royal-blue)] focus:border-[var(--nhbea-royal-blue)]",children:e.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.title," - ",e.startDate.toLocaleDateString()]},e.id))})]})}),"overview"===h&&D&&S&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"heading-3 text-[var(--nhbea-royal-blue-dark)]",children:D.title}),(0,s.jsx)("p",{className:"mt-1 text-[var(--color-text-secondary)]",children:D.description}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-[var(--color-text-secondary)]",children:[D.startDate.toLocaleDateString()," - ",D.endDate.toLocaleDateString()]}),(0,s.jsxs)("div",{className:"text-sm text-[var(--color-text-secondary)]",children:[D.venue.name,", ",D.venue.city]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(g),className:"inline-flex items-center px-3 py-2 border border-[var(--color-border-primary)] shadow-sm text-sm font-medium rounded-md text-[var(--color-text-primary)] bg-white hover:bg-gray-50",children:"Export List"}),(0,s.jsx)("button",{onClick:()=>{v(D),y(!0)},className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[var(--nhbea-royal-blue)] hover:bg-[var(--nhbea-royal-blue-dark)]",children:"Edit Conference"})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Total Registrations"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-[var(--nhbea-royal-blue)]",children:S.total})]})}),(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Paid Registrations"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:S.paid})]})}),(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Revenue"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",S.revenue.toLocaleString()]})]})}),(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Checked In"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:S.checkedIn})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Members"}),(0,s.jsx)("div",{className:"text-xl font-bold text-blue-600",children:S.members})]})}),(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Non-Members"}),(0,s.jsx)("div",{className:"text-xl font-bold text-purple-600",children:S.nonMembers})]})}),(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:"Students"}),(0,s.jsx)("div",{className:"text-xl font-bold text-green-600",children:S.students})]})})]})]}),"conferences"===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"heading-4 text-[var(--color-text-primary)]",children:e.title}),(0,s.jsx)("p",{className:"mt-1 text-[var(--color-text-secondary)]",children:e.description}),(0,s.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Dates:"})," ",e.startDate.toLocaleDateString()," - ",e.endDate.toLocaleDateString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Venue:"})," ",e.venue.name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Capacity:"})," ",e.capacity]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Member Price:"})," $",e.pricing.memberPrice]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Non-Member Price:"})," $",e.pricing.nonMemberPrice]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Student Price:"})," $",e.pricing.studentPrice]})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("open"===e.status?"bg-green-100 text-green-800":"closed"===e.status?"bg-red-100 text-red-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status}),(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.registrationOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Registration ",e.registrationOpen?"Open":"Closed"]}),(0,s.jsxs)("span",{className:"text-sm text-[var(--color-text-secondary)]",children:[N(e.id).total," registrations"]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,s.jsx)("button",{onClick:()=>{v(e),y(!0)},className:"text-[var(--nhbea-royal-blue)] hover:text-[var(--nhbea-royal-blue-dark)] text-sm",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>w(e.id),className:"text-green-600 hover:text-green-700 text-sm",children:"Export"})]})]})})},e.id)),0===e.length&&(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0V6a2 2 0 012-2h4a2 2 0 012 2v1M8 7h8m-9 4v4a2 2 0 002 2h6a2 2 0 002-2v-4M8 11h8"})}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No conferences"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first conference."})]})})]}),"registrations"===h&&g&&(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-[var(--color-border-primary)]",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendee"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-In"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-[var(--color-border-primary)]",children:C.map(e=>{var t,a;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:[e.personalInfo.firstName," ",e.personalInfo.lastName]}),(0,s.jsx)("div",{className:"text-sm text-[var(--color-text-secondary)]",children:e.personalInfo.email})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"text-sm text-[var(--color-text-primary)]",children:(null==(t=e.organization)?void 0:t.name)||"N/A"}),(0,s.jsx)("div",{className:"text-sm text-[var(--color-text-secondary)]",children:(null==(a=e.organization)?void 0:a.title)||""})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("member"===e.registrationType?"bg-blue-100 text-blue-800":"nonMember"===e.registrationType?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"),children:e.registrationType})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:["$",e.paymentAmount]}),(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("paid"===e.paymentStatus?"bg-green-100 text-green-800":"pending"===e.paymentStatus?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.paymentStatus})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.checkedIn?(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checked In"}):(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not Checked In"})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!e.checkedIn&&(0,s.jsx)("button",{onClick:()=>k(e.id),className:"text-[var(--nhbea-royal-blue)] hover:text-[var(--nhbea-royal-blue-dark)] mr-4",children:"Check In"}),(0,s.jsx)("button",{className:"text-gray-600 hover:text-gray-900",children:"View Details"})]})]},e.id)})})]}),0===C.length&&(0,s.jsx)("div",{className:"px-6 py-12 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No registrations for this conference yet."})})]})}),"settings"===h&&(0,s.jsx)("div",{className:"nhbea-card",children:(0,s.jsxs)("div",{className:"px-6 py-4",children:[(0,s.jsx)("h3",{className:"heading-3 text-[var(--nhbea-royal-blue-dark)] mb-4",children:"Conference Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-primary)] mb-1",children:"Default Conference Capacity"}),(0,s.jsx)("input",{type:"number",defaultValue:500,className:"w-full max-w-xs px-3 py-2 border border-[var(--color-border-primary)] rounded-md shadow-sm focus:outline-none focus:ring-[var(--nhbea-royal-blue)] focus:border-[var(--nhbea-royal-blue)]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-primary)] mb-1",children:"Registration Email Template"}),(0,s.jsx)("textarea",{rows:4,className:"w-full px-3 py-2 border border-[var(--color-border-primary)] rounded-md shadow-sm focus:outline-none focus:ring-[var(--nhbea-royal-blue)] focus:border-[var(--nhbea-royal-blue)]",placeholder:"Enter email template..."})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[var(--nhbea-royal-blue)] hover:bg-[var(--nhbea-royal-blue-dark)]",children:"Save Settings"})})]})]})})]})})})}}},e=>{e.O(0,[9135,3965,6874,3155,7748,6766,6688,8441,5964,7358],()=>e(e.s=47243)),_N_E=e.O()}]);