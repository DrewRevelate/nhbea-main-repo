"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5320,6104],{54134:(e,r,a)=>{a.d(r,{NA:()=>i});var s=a(56104),t=a(35317);async function i(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"website";try{if(!s.db)return console.error("Firebase is not initialized"),{success:!1,message:"Newsletter signup is temporarily unavailable. Please try again later.",error:"Firebase not initialized"};let a=e.toLowerCase().trim();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return{success:!1,message:"Please enter a valid email address.",error:"Invalid email format"};let i={email:a,timestamp:new Date,status:"active",source:r},n=(0,t.doc)(s.db,"newsletterSubscribers",a),l=await (0,t.x7)(n);if(l.exists()){let e=l.data();if("active"===e.status)return{success:!1,message:"You are already subscribed to our newsletter.",error:"Email already subscribed"};return await (0,t.updateDoc)(n,{status:"active",timestamp:new Date}),{success:!0,message:"Welcome back! Your newsletter subscription has been reactivated."}}return await (0,t.BN)(n,i),{success:!0,message:"Thank you for subscribing! You will receive our latest updates."}}catch(e){return console.error("Error adding newsletter subscriber:",e),{success:!1,message:"Something went wrong. Please try again later.",error:e instanceof Error?e.message:"Unknown error"}}}},56104:(e,r,a)=>{a.d(r,{Ay:()=>g,IG:()=>u,db:()=>d,j2:()=>b});var s=a(23915),t=a(35317),i=a(77505),n=a(45404);let l={apiKey:"AIzaSyC08Pd4oC3bTOKFnNXQtgCUx8YVVczpXZM",authDomain:"nhbea-64cab.firebaseapp.com",projectId:"nhbea-64cab",storageBucket:"nhbea-64cab.firebasestorage.app",messagingSenderId:"956870811159",appId:"1:956870811159:web:825f4c67fa29b6e1cac652"},o=!!(l.apiKey&&l.authDomain&&l.projectId&&l.storageBucket&&l.messagingSenderId&&l.appId);o||console.error("Firebase configuration is incomplete. Required fields:",{apiKey:!!l.apiKey,authDomain:!!l.authDomain,projectId:!!l.projectId,storageBucket:!!l.storageBucket,messagingSenderId:!!l.messagingSenderId,appId:!!l.appId});let c=null,d=null,u=null,b=null;if(o)try{c=0===(0,s.Dk)().length?(0,s.Wp)(l):(0,s.Sx)(),d=(0,t.aU)(c),u=(0,i.c7)(c),b=(0,n.xI)(c),console.log("✅ Firebase initialized successfully")}catch(e){console.error("❌ Failed to initialize Firebase:",e)}else console.warn("⚠️ Firebase not initialized - missing configuration");let g=c},85320:(e,r,a)=>{a.r(r),a.d(r,{default:()=>n});var s=a(95155),t=a(12115),i=a(54134);function n(){let[e,r]=(0,t.useState)(""),[a,n]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{d(!0)},[]);let u=async a=>{if(a.preventDefault(),!c)return void o({success:!1,message:"Please wait...",error:"Not ready"});if(!e.trim())return void o({success:!1,message:"Please enter your email address.",error:"Empty email"});n(!0),o(null);try{let a=await (0,i.NA)(e,"website");o(a),a.success&&r("")}catch(e){console.error("Newsletter signup error:",e),o({success:!1,message:"Something went wrong. Please try again later.",error:e instanceof Error?e.message:"Network error"})}finally{n(!1)}};return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("form",{onSubmit:u,className:"flex flex-col gap-2",children:[(0,s.jsx)("input",{id:"newsletter-email",type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"Enter your email",disabled:a||!c,required:!0,className:"w-full px-3 py-2 text-sm rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--nhbea-accent-gold)] focus:border-[var(--nhbea-accent-gold)] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Email address for newsletter"}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full px-3 py-2 text-sm font-medium bg-[var(--nhbea-accent-gold)] hover:bg-[var(--nhbea-accent-gold-dark)] text-white rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Subscribing...":"Subscribe"})]}),l&&(0,s.jsx)("div",{className:"p-2 rounded-lg text-xs ".concat(l.success?"bg-green-500/20 border border-green-400/30 text-green-300":"bg-red-500/20 border border-red-400/30 text-red-300"),role:l.success?"status":"alert",children:l.message})]})}}}]);